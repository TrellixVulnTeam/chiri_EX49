"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const devkit_1 = require("@nrwl/devkit");
const migration_utils_1 = require("../utils/migration-utils");
const workspace_1 = require("@nrwl/workspace");
function update(host) {
    workspace_1.updatePackagesInPackageJson(devkit_1.joinPathFragments(__dirname, '../../../', 'migrations.json'), '12.0.0');
    devkit_1.updateJson(host, 'workspace.json', workspaceJson => {
        Object.keys(workspaceJson.projects).map((k) => {
            const project = workspaceJson.projects[k];
            if (migration_utils_1.isStencilProject(project)) {
                delete project.generators['@nxext/stencil:component'].storybook;
            }
        });
        return workspaceJson;
    });
}
exports.default = update;
//# sourceMappingURL=update-12-0-0.js.map