"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isBuildableStencilProject = exports.isStencilProject = exports.addToGitignore = void 0;
const ignore_1 = require("ignore");
function addToGitignore(host, path) {
    if (!host.exists('.gitignore')) {
        return;
    }
    const ig = ignore_1.default();
    ig.add(host.read('.gitignore').toString('utf-8'));
    if (!ig.ignores(path)) {
        const gitignore = host.read('.gitignore');
        if (gitignore) {
            const content = `${gitignore.toString('utf-8').trimRight()}\n${path}\n`;
            host.write('.gitignore', content);
        }
    }
}
exports.addToGitignore = addToGitignore;
function isStencilProject(project) {
    return ['build', 'test', 'serve', 'e2e'].map(command => {
        const target = project.targets && project.targets[command]
            ? project.targets[command]
            : {};
        return (target &&
            target.executor === `@nxext/stencil:${command}`);
    }).some(value => value === true);
}
exports.isStencilProject = isStencilProject;
function isBuildableStencilProject(project) {
    const target = project.targets && project.targets['build']
        ? project.targets['build']
        : {};
    return (target &&
        target.executor === `@nxext/stencil:build`);
}
exports.isBuildableStencilProject = isBuildableStencilProject;
//# sourceMappingURL=utillities.js.map