"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addToGitignore = exports.calculateStyle = void 0;
const ignore_1 = require("ignore");
const stencil_core_utils_1 = require("../stencil-core-utils");
function calculateStyle(style) {
    const styleDefault = stencil_core_utils_1.SupportedStyles.css;
    if (style == undefined) {
        return styleDefault;
    }
    return /^(css|scss|less|styl|pcss)$/.test(style) ? style : styleDefault;
}
exports.calculateStyle = calculateStyle;
function addToGitignore(path) {
    return (tree) => {
        if (!tree.exists('.gitignore')) {
            return;
        }
        const ig = ignore_1.default();
        ig.add(tree.read('.gitignore').toString('utf-8'));
        if (!ig.ignores(path)) {
            const gitignore = tree.read('.gitignore');
            if (gitignore) {
                const content = `${gitignore.toString('utf-8').trimRight()}\n${path}\n`;
                tree.overwrite('.gitignore', content);
            }
        }
    };
}
exports.addToGitignore = addToGitignore;
//# sourceMappingURL=utils.js.map